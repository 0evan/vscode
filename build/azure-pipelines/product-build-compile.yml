trigger: none

pr:
  branches:
    include: ["main", "release/*"]

variables:
  - name: Codeql.SkipTaskAutoInjection
    value: true
  - name: skipComponentGovernanceDetection
    value: true
  - name: ENABLE_TERRAPIN
    value: false
  - name: VSCODE_QUALITY
    value: oss
  - name: VSCODE_STEP_ON_IT
    value: false

stages:
  - stage: Compile
    jobs:
      - job: Compile
        pool: vscode-1es-vscode-linux-18.04
        variables:
          VSCODE_ARCH: x64
        steps:
          - template: product-compile.yml
            parameters:
              VSCODE_QUALITY: ${{ variables.VSCODE_QUALITY }}
